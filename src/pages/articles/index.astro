---
import { getArticles } from '@/lib/getArticles'
import { SITE } from '@config'
import Articles from '@layouts/Articles.astro'
import getPageNumbers from '@lib/getPageByNumber'

const articles = await getArticles()
const totalPages = getPageNumbers(articles.length)
const paginatedPosts = articles.slice(0, SITE.postPerPage)
---

<Articles
  articles={paginatedPosts}
  pageNum={1}
  totalPages={totalPages.length}
/>
